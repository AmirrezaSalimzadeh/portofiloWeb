{% load static %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Quote Website{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ctext y='20' font-size='20'%3E%F0%9F%8C%8D%3C/text%3E%3C/svg%3E">
    <script>
        tailwind = { config: { theme: { extend: { colors: { brand: { DEFAULT: '#1530c8', dark: '#0d1a73', light: '#4d63ff' }, slateblack: '#101218' } } } } };
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <style>
        @font-face {
            font-family: 'PlaywriteES';
            src: url('{% static "fonts/PlaywriteES-VariableFont_wght.ttf" %}') format('truetype');
            font-display: swap;
        }
        @font-face {
            font-family: 'DancingScript';
            src: url('{% static "fonts/DancingScript-VariableFont_wght.ttf" %}') format('truetype');
            font-display: swap;
        }
        @font-face {
            font-family: 'Bitcount';
            src: url('{% static "fonts/BitcountGridDouble-VariableFont_CRSV,ELSH,ELXP,slnt,wght.ttf" %}') format('truetype');
            font-display: swap;
        }
        body {
            position: relative;
            min-height: 100vh;
            background-image: url('{% static "images/skyBackGround.jpg" %}');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
        }
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background: rgba(10, 16, 34, 0.65);
            z-index: -1;
        }
        .font-playwrite { font-family: 'PlaywriteES', "Times New Roman", serif; }
        .font-dancing { font-family: 'DancingScript', cursive; }
        .font-bitcount { font-family: 'Bitcount', 'Courier New', monospace; }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body class="min-h-screen bg-slate-950 text-slate-100">
    <header class="bg-gradient-to-br from-indigo-500/90 to-slate-900/90 backdrop-blur border-b border-white/10">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex items-center justify-between py-6">
                <a href="{% url 'home' %}" class="text-2xl font-semibold tracking-wide text-white hover:text-brand-light transition">Quotely</a>
                <nav class="hidden md:flex items-center space-x-8 text-sm uppercase tracking-[0.2em]">
                    <a href="{% url 'home' %}"
                       class="text-slate-100 transition duration-300 ease-in-out transform-gpu hover:text-white hover:scale-110">Home</a>
                    <a href="{% url 'add_quote' %}"
                       class="text-slate-100 transition duration-300 ease-in-out transform-gpu hover:text-white hover:scale-110">Add Quotes</a>
                    <a href="{% url 'change_quote' %}"
                       class="text-slate-100 transition duration-300 ease-in-out transform-gpu hover:text-white hover:scale-110">Change Quote</a>
                    {% if user.is_authenticated %}
                        <div class="flex items-center space-x-3">
                            <div class="w-9 aspect-square rounded-full bg-white/25 flex items-center justify-center text-white">
                                  <span class="font-semibold text-base leading-none relative left-[1.9px]">
                                    {{ user.username|slice:":1"|upper }}
                                 </span>
</div>

                            <div class="text-white font-medium">{{ user.username }}</div>
                            <a href="{% url 'signout' %}" class="text-slate-200 hover:text-white text-xs tracking-wide">Logout</a>
                        </div>
                    {% else %}
                        <a href="{% url 'signin' %}" class="text-slate-100 hover:text-white hover:font-semibold transition duration-200">Sign In</a>
                        <a href="{% url 'signup' %}" class="text-white bg-brand px-4 py-2 rounded-full shadow hover:bg-brand-light transition">Sign Up</a>
                    {% endif %}
                </nav>
                <button class="md:hidden text-white" id="nav-toggle" aria-label="Toggle navigation">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 13.5h16.5M3.75 12h16.5" />
                    </svg>
                </button>
            </div>
            <nav class="md:hidden pb-6 space-y-4 hidden" id="mobile-nav">
                <a href="{% url 'home' %}"
                   class="block text-slate-100 hover:text-white hover:font-semibold transition duration-200">Home</a>
                <a href="{% url 'add_quote' %}"
                   class="block text-slate-100 hover:text-white hover:font-semibold transition duration-200">Add Quotes</a>
                <a href="{% url 'change_quote' %}"
                   class="block text-slate-100 hover:text-white hover:font-semibold transition duration-200">Change Quote</a>
                {% if user.is_authenticated %}
                    <div class="flex items-center space-x-3 pt-2">
                        <div class="h-9 w-9 rounded-full bg-white/25 flex items-center justify-center text-white">
                            <span class="font-semibold text-lg leading-none">{{ user.username|slice:":1"|upper }}</span>
                        </div>
                        <div class="text-white font-medium">{{ user.username }}</div>
                    </div>
                    <a href="{% url 'signout' %}" class="block text-slate-200 hover:text-white text-xs tracking-wide">Logout</a>
                {% else %}
                    <a href="{% url 'signin' %}" class="block text-slate-100 hover:text-white hover:font-semibold transition duration-200">Sign In</a>
                    <a href="{% url 'signup' %}" class="inline-block text-center text-white bg-brand px-4 py-2 rounded-full shadow hover:bg-brand-light transition">Sign Up</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4">
        {% if messages %}
            <div class="mt-6 space-y-2">
                {% for message in messages %}
                    <div class="rounded-xl px-4 py-3 backdrop-blur border border-white/10 {% if message.tags == 'error' %}bg-red-500/30 text-red-100{% elif message.tags == 'success' %}bg-emerald-500/30 text-emerald-100{% else %}bg-slate-500/30 text-slate-50{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% block content %}{% endblock %}
    </main>

    <footer class="mt-16 border-t border-white/10 py-8 text-center text-sm text-slate-200 bg-gradient-to-br from-indigo-500/90 to-slate-900/90">
        &copy; {{ year|default:"2025" }} Quotely. All rights reserved.
    </footer>

    <script>
        const toggle = document.getElementById('nav-toggle');
        const mobileNav = document.getElementById('mobile-nav');
        if (toggle && mobileNav) {
            toggle.addEventListener('click', () => {
                mobileNav.classList.toggle('hidden');
            });
        }
    </script>
</body>
</html>
